<html>

<head>
  
  <title>prrma</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

  <style>
    
    body {
      margin-top:45px;
    }
    
  </style>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

</head>
 
<body onload="constructMailto();">
 
 <div class="container">
   
   <div class="row">
     
     <div class="col-md-6 offset-md-3">
   
     <h1>Public Records Request Helper</h1>
     <hr>
     
  <form>
     
  <div class="mb-3">
    <input type="email" class="form-control" id="to" value="jeffehobbs@gmail.com" oninput="constructMailto();">
  </div>
     
  <div class="mb-3">
    <input type="email" class="form-control" id="subject" value="Public Records Request" oninput="constructMailto();">
  </div>

  <div class="mb-3">
      <textarea class="form-control" id="prefix" rows="3" oninput="constructMailto();">Hello,</textarea>
  </div>
    
  <div class="mb-3">
      <textarea class="form-control" id="request" rows="3" oninput="constructMailto();">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus luctus nisl quis eros vulputate venenatis. Morbi aliquam velit maximus est faucibus maximus. Curabitur bibendum sit amet lorem eu auctor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.</textarea>
  </div>

  <div class="mb-3">
      <textarea class="form-control" id="suffix" rows="3" oninput="constructMailto();">Sincerely,</textarea>
  </div>
    
  <a id="submitButton" href="mailto:jeffehobbs@gmail.com" class="btn btn-primary">Submit</a>
     
  </form>
       
     </div><!-- column -->
   </div><!-- row -->
 </div><!-- container -->
  
 <script>
   
   let formData = [];
   fetch('/data.json')
    .then(response => response.json())
    .then(data => {
     formData.push(data);
     console.log(data);
    });
   
   //console.log(formData);
                                                               
   function constructMailto(){ 

     to = document.getElementById("to").value;
     subject = encodeURIComponent(document.getElementById("subject").value);
     prefix = document.getElementById("prefix").value;
     request = document.getElementById("request").value;
     suffix = document.getElementById("suffix").value;
     body = encodeURIComponent(prefix + "\r\n" + request + "\r\n" + suffix);
     mailtoString = "mailto:" + to + "?subject=" + subject + "&body=" + body;
     
     var mailto = document.getElementById("submitButton");
     mailto.href = mailtoString;
     
     console.log(mailtoString);
     
   };
   
  </script>
                                                                         
 </body>
 
</html>
